//üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•

uint32_t layer_state_set_user(uint32_t state) {

// I have changed this variable to global   // int  state_number; //= 321; //biton32(state);
    state_number = biton32(state);

  switch (state_number) {
    case _DFLT:   //  0
//        active_layer = 0;

  numbers_is_active = false; // #01

  

//   if (apps_just_activated && !apps_trigger && !karabiner_apps_working)
// // because I can get out from _APPS but I'm under karabiner_apps mode
//   {
//     apps_just_activated = false;

//     if (multi_apps)
//     {
//       multi_apps = false;
//     }
//     else
//     {
//       HIDEOTH;
//     }
//   }



  if (karabiner_apps_working)
  {
    rgblight_sethsv_noeeprom(COLOR_APPS); // (0xFF, 0x80, 0xBF)
  }
  else
  {
    show_RGB_LEDs();
  }

  break;     

//üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•




/* Keymap _AVIM X04X: _AVIM layer  // select VIM layer
 * ,----------------------------------.  ,----------------------------------.
 * |      |      |      |      |      |  |Select|Select|Select|Select|Select|
 * |      |      |      |      |      |  |Prgrph| Begin| Word | Word |End Of|
 * |      |      |      |      |      |  | Above|Ln/Prg|Bckwrd|Forwrd|Ln/Prg|
 * |------+------+------+------+------|  |------+------+------+------+------|
 * |      |      |      |      |      |  |      |Select|Select|Select|Select|
 * |@@@@@@|      |      |      |      |  |      | Char | Line | Line | Char |
 * |@@@@@@|      |      |      |      |  |      | LEFT |  UP  | DOWN | RIGHT|
 * |------+------+------+------+------|  |------+------+------+------+------|
 * |      |      |      |@@@@@@|      |  |Select|Select|Select|Select|Select|
 * |      |      |      |@@@@@@|      |  |Prgrph|      | Page | Page |      |
 * |      |      |      |@@@@@@|      |  | Below| HOME |  UP  | DOWN |  END |
 * '----------------------------------'  '----------------------------------'
 */
/*[_AVIM] = KEYMAP(  // layer X03X : _AVIM layer  // select VIM layer
//,----------------------------------------------.  ,----------------------------------------------------------------------------------.
    XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,       AVIM_Y,   TD(AVIM_uU), LSFT(LALT(KC_LEFT)), LSFT(LALT(KC_RGHT)),   TD(AVIM_pP),
//|--------+--------+--------+--------+----------|  |--------+--------------+--------------------+--------------------+----------------|
    _______, _______, _______, _______, XXXXXXX,      XXXXXXX, LSFT(KC_LEFT),         LSFT(KC_UP),       LSFT(KC_DOWN), LSFT(KC_RGHT),
//|--------+--------+--------+--------+----------|  |--------+--------------+--------------------+--------------------+----------------|
    _______, _______, _______, _______, XXXXXXX,       AVIM_N, LSFT(KC_HOME),       LSFT(KC_PGUP),     LSFT(KC_PGDOWN),  LSFT(KC_END) ),
//'----------------------------------------------'  '----------------------------------------------------------------------------------'
// AVIM_H is empty
// END OF _AVIM X04X
////////////////////////////////////////////////////////////////////////////////////////////////////////
*/


//////////////////////////////////////////////////////////////////////////////////////////////////////###
//////////////////////////////////////////////////////////////////////////////////////////////////////###


// [_ACCN]
/* Keymap _ACCN 01: _ACCN layer
 * ,--------------------------------------------.        ,--------------------------------------------.
 * | *XXXXX | *XXXXX |    √â   | *XXXXX | *XXXXX |        | *XXXXX |    √ö   |    √ç   |    √ì   | *XXXXX |
 * |        |        |  (√©√´√®√™)|        |        |        |        | (√∫√º√π√ª) | (√≠√Ø√¨√Æ) | (√≥√∂√≤√¥) |        |
 * |        |        | (√â√ã√à√ä) |        |        |        |        | (√ö√ú√ô√õ) | (√ç√è√å√é) | (√ì√ñ√í√î) |        |
 * |--------+--------+--------+--------+--------|        |--------+--------+--------+--------+--------|
 * |    √Å   | *XXXXX | *XXXXX | *XXXXX | @@@@@@ |        | @@@@@@ | *XXXXX | *XXXXX | *XXXXX | *XXXXX |
 * | (√°√§√†√¢) |  CIRCUM|  GRAVE |  DIAE- | @@@@@@ |        | @@@@@@ |  DIAE- |  GRAVE |  CIRCUM|        |
 * | (√Å√Ñ√Ä√Ç) | -MFLEX |        | RESIS  | @@@@@@ |        | @@@@@@ | RESIS  |        |  -FLEX |        |
 * |--------+--------+--------+--------+--------|        |--------+--------+--------+--------+--------|
 * | *XXXXX | *XXXXX | *XXXXX | *XXXXX | *XXXXX |        |        | *XXXXX | *XXXXX | *XXXXX | *XXXXX |
 * |        |        |        |        |        |        |   √ë √±  |        |        |        |        |
 * |   RCtl |   RAlt |  RGui  |  RSft  |        |        |        |  RSft  |  RGui  |  RAlt  |   RCtl |
 * '--------------------------------------------'        '--------------------------------------------'
 *                            ,-----------------.        ,-----------------.
 *                            |        |        |        |        |        |
 *                            |        |        |        |        |        |
 *                            |        |        |        |        |        |
 *                            |        |  _RGBL |        |  _POWR |        |
 *                   ,--------+--------+--------|        |--------+--------|--------.
 *                   |        |        |        |        |        |        |        |
 *                   |        |        |        |        |        |        |        |
 *                   |        |        |        |        |        |        |        |
 *                   |        |   LSft |        |        |        |   LSft |        |
 *                   '--------------------------'        '--------------------------'
 */

 /* Keymap _ACCN 01: _ACCN layer
 * ,--------------------------------------------.        ,--------------------------------------------.
 * | XXXXXXX| XXXXXXX|        | XXXXXXX| XXXXXXX|        | XXXXXXX|    U   |    I   |    O   | XXXXXXX|
 * |        |        |    E   |        |        |        |        |        |        |        |        |
 * |        |        |        |        |        |        |        |        |        |        |        |
 * |--------+--------+--------+--------+--------|        |--------+--------+--------+--------+--------|
 * |        | XXXXXXX| XXXXXXX| XXXXXXX| @@@@@@ |        | @@@@@@ | XXXXXXX| XXXXXXX| XXXXXXX| XXXXXXX|
 * |    A   |  CIRCUM|  GRAVE |  DIAE- | @@@@@@ |        | @@@@@@ |  DIAE- |  GRAVE |  CIRCUM|        |
 * |        | -MFLEX |        | RESIS  | @@@@@@ |        | @@@@@@ | RESIS  |        |  -FLEX |        |
 * |--------+--------+--------+--------+--------|        |--------+--------+--------+--------+--------|
 * | XXXXXXX| XXXXXXX| XXXXXXX| XXXXXXX| XXXXXXX|        |        | XXXXXXX| XXXXXXX| XXXXXXX| XXXXXXX|
 * |        |        |        |        |        |        |    N   |        |        |        |        |
 * |   RCtl |   RAlt |  RGui  |  RSft  |        |        |        |  RSft  |  RGui  |  RAlt  |  RCtl  |
 * '--------------------------------------------'        '--------------------------------------------'
 *                            ,-----------------.        ,-----------------.
 *                            |        |        |        |        |        |
 *                            |        |        |        |        |        |
 *                            |        |        |        |        |        |
 *                            |        |  _RGBL |        |  _POWR |        |
 *                   ,--------+--------+--------|        |--------+--------|--------.
 *                   |        |        |        |        |        |        |        |
 *                   |        |        |        |        |        |        |        |
 *                   |        |        |        |        |        |        |        |
 *                   |        |   LSft |        |        |        |   LSft |        |
 *                   '--------------------------'        '--------------------------'
 */


//////////////////////////////////////////////////////////////////////////////////////////////////////###
//////////////////////////////////////////////////////////////////////////////////////////////////////###


/* Keymap _ZVIM X5bisX: _ZVIM layer  // alignment VIM layer
 * ,----------------------------------.  ,----------------------------------.
 * |      |      |      |      |      |  | Super|      | Move | Move | Paste|
 * |      |      |      |      |      |  |script|      |2Words|2Words|asRich|
 * |      |      |      |      |      |  |      |      | Left | Right| Text |
 * |------+------+------+------+------|  |------+------+------+------+------|
 * |      |      |      |      |      |  |  Un  | Align| Align| Align| Align|
 * |      |      |      |      |      |  |script|to the|in the|Justi-|to the|
 * |      |      |      |      |      |  |      | Left |Center| fied | Right|
 * |------+------+------+------+------|  |------+------+------+------+------|
 * |      |      |      |@@@@@@|      |  | Subs |Scroll|Scroll|Scroll|Scroll|
 * |@@@@@@|      |      |@@@@@@|      |  |script| until| Page | Page | until|
 * |@@@@@@|      |      |@@@@@@|      |  |      | HOME |  UP  | DOWN |  END |
 * '----------------------------------'  '----------------------------------'
*/
/*
// _ZVIM layer X5bisX
[_ZVIM] = LAYOUT_ortho_3x10(  // layer 12 : _ZVIM layer  // alignment VIM layer
//,----------------------------------------------.  ,---------------------------------------------.
    XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,      ZVIM_Y, _______,  ZVIM_I,  ZVIM_O,  ZVIM_P,
//|--------+--------+--------+--------+----------|  |-------+--------+--------+--------+----------|
    _______, _______, _______, _______, XXXXXXX,      ZVIM_H,  ZVIM_J,  ZVIM_K,  ZVIM_L, ZVIM_SP,
//|--------+--------+--------+--------+----------|  |-------+--------+--------+--------+----------|
    _______, _______, _______, _______, XXXXXXX,      ZVIM_N,  ZVIM_M, ZVIM_ES, ZVIM_BS, ZVIM_EN ),
//'----------------------------------------------'  '---------------------------------------------'
*/
// END OF _ZVIM X5bisX
//////////////////////////////////////////////////////////////////////////////////////////////////////###


/* Keymap _XVIM 05: _XVIM layer  // movement VIM layer
 * ,----------------------------------.  ,----------------------------------.       
 * |      |      |      |      |      |  |Comple| Align| Align| Align| Align|
 * |      |      |      |      |      |  |  te  |to the|in the|Justi-|to the|
 * |      |      |      |      |      |  |      | Left |Center| fied | Right|
 * |------+------+------+------+------|  |------+------+------+------+------|
 * |      |      |      |      |      |  |   5  |  20  |Transp|Transp|  60  |
 * |      |      |      |      |      |  | lines| lines| Words| Chars| lines|
 * |      |      |      |      |      |  |  Up  |  Up  |      |      |  Up  |
 * |------+------+------+------+------|  |------+------+------+------+------|
 * |      |      |      |@@@@@@|      |  |   5  |  20  |Scroll|Scroll|  60  |
 * |      |@@@@@@|      |@@@@@@|      |  | lines| lines| Page | Page | lines|
 * |      |@@@@@@|      |@@@@@@|      |  | Down | Down |  Up  | Down | Down |
 * '----------------------------------'  '----------------------------------'
*/

//////////////////////////////////////////////////////////////////////////////////////////////////////###
//////////////////////////////////////////////////////////////////////////////////////////////////////###


/////////////////////////////////////////////////////////////////////////////////////////////////// ###
/////////////////////////////////////////////////////////////////////////////////////////////////// ###


//////////////////////////////////////////////////////////////////////////////////////////////////////###
//////////////////////////////////////////////////////////////////////////////////////////////////////###


//////////////////////////////////////////////////////////////////////////////////////////////////////###
//////////////////////////////////////////////////////////////////////////////////////////////////////###


//////////////////////////////////////////////////////////////////////////////////////////////////////###
//////////////////////////////////////////////////////////////////////////////////////////////////////###
